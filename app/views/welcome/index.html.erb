<div id="container">
  <div id="graph-container"></div>
</div>
<script>
/**
 * DOM utility function
 */
var $ = function (id) {
  return document.getElementById(id);
};

 var g = {
   nodes: [],
   edges: []
 };

 // Create new Sigma instance in graph-container div (use your div name here)
 s = new sigma({
   graph: g,
   renderer: {
     container: document.getElementById('graph-container'),
     type: 'canvas',
   },
   settings: {
     enableEdgeHovering: true,
     edgeHoverColor: 'edge',
     defaultEdgeHoverColor: '#ccc',
     minEdgeSize: 0.5,
     maxEdgeSize: 4,
     edgeHoverSizeRatio: 1,
     edgeHoverExtremities: true,
   }
 });
 
 sigma.parsers.json(
   '/data',
   s,
   function() {
	 var nodes = s.graph.nodes();
	 for (var i = 0; i < nodes.length; i++) {
	   nodes[i].x = 100 * Math.cos(2 * i * Math.PI / nodes.length);
	   nodes[i].y = 100 * Math.sin(2 * i * Math.PI / nodes.length);
	   nodes[i].size = nodes[i].size;
	   nodes[i].color = '#C39DC7';
	 }

	 for (var i = 0; i < s.graph.edges.length; i++) {
	   s.graph.edges[i].color = '#444';
	   s.graph.edges[i].hover_color = '#ccc';
	   s.graph.edges[i].size = 3;
	 }

	 s.refresh();
 
	 sigma.layouts.startForceAtlas2(s, {
       worker: true,
	   autoStop: true,
	   background: true,
	   gravity: 0,
	   easing: 'cubicInOut'
	 });
 });

s.bind('clickNode', function(e) {
  angular.element.event.trigger({type:"show.person", person: e.data.node});
});
s.bind('overNode', function(e) {
  angular.element.event.trigger({type:"show.person.small", person: e.data.node});
});
</script>
